<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Additional Game-Builder Tools</title>
        <link rel="stylesheet" type="text/css" href="styles/override.css">
    </head>
   <body>
   		<div class="container">
            <div class="jumbotron">
                <h1 class="text-center" class="page-header"><a href="index.html" >GAME-BUILDER</a> Demo
                    <hr>
                    <small class="demoTitle"></small>
                </h1>
            </div>

            <hr>

            <div class="row iframeWrap">
              <iframe id="frame" scrolling="no" width="400" height="300"></iframe>
              <div id="additionalControls"></div>
            </div>
   
            <div class="row">
                <div class="text-center top-padding col-md-4"><a class="previous btn btn-block btn-primary">Previous</a></div>
                <div class="text-center top-padding col-md-4"><a class="start btn btn-block btn-primary">Click to Start</a></div>
                <div class="text-center top-padding col-md-4"><a class="next btn btn-block btn-primary">Next</a></div>
            </div>

            <div class="row top-padding">
                <div id="details" class="left-padding right-padding text-center"></div>
            </div>

            <hr>

            <div class="row">
                <a href="#" class="github btn btn-large btn-block btn-success">View source on Github</a>
            </div>

            <div class="row">
                <a href="#" class="docs btn btn-large btn-block btn-success">View Docs</a>
            </div>

            <hr>
            <h6 class="left-padding right-padding footer text-center">A simple demonstration.</h6>
            <hr>

            <div class="left-padding right-padding footer text-center">
                <p>A project by 
                    <a href="https://github.com/diegomarquez">Diego Enrique Marquez</a>
                </p>
            </div>
        </div>

        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
        <script type="text/javascript" src="bower_components/stringjs/lib/string.min.js"></script>

        <script type="text/javascript">
          $(function() {
            var navMap = [
                'empty',
                'game_object_creation',
                'game_object_nesting',
                'layering',
                'logic_components',
                'renderers',
                'colliders',
                'keyboard',
                'reclaimer',
                'sound',
                'timers',
                'loose_state_machine',
                'fixed_state_machine',
                'extensions',
                'viewports'
            ]

            var url = window.location.toString();
            var exampleName = url.substring(url.indexOf('=')+1);

            var iframe = $('#frame');

            iframe.attr("src", 'examples/' + exampleName + '/index.html');

            $('.demoTitle').text(S(exampleName).humanize().s);
            $('.github').attr('href', 'https://github.com/diegomarquez/game-builder-examples/tree/master/examples/' + exampleName);
            $('.docs').attr('href', 'examples-docs/' + exampleName + '/README.html');

            $('#details').load('examples-instructions/' + exampleName + '.html #instructions');
            $('#additionalControls').load('examples-instructions/' + exampleName + '.html #additionalControls', function() {
                // This is balls
                if($('#resize')){
                    $('#resize').on('click', function(event) { 
                        if(iframe.width() == 800) {
                            iframe.width(400);
                            iframe.height(300);
                        } else {
                            iframe.width(800);
                            iframe.height(600);                  
                        }
                    });
                }
            });

            $('.start').on('click', function(event) {
              $('#frame').trigger('focus');
            });

            var previous = navMap.indexOf(exampleName) - 1;
            var next = navMap.indexOf(exampleName) + 1;

            if(previous == -1) { previous = navMap.length -1; }
            if(next == navMap.length) { next = 0; }

            $('.previous').attr('href', 'container.html?example=' + navMap[previous]);
            $('.next').attr('href', 'container.html?example=' + navMap[next]);
          });
        </script>
    </body>
</html>